<div class="main-page">
    <mat-card class="main-card">
        <mat-card-header class="main-card-header">
            <h1 class="h1-not-margin">Responsables</h1>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-form-field class="main-search" appearance="fill">
            <mat-label>Buscar</mat-label>
            <input class="form-control" matInput maxlength="20">
            <mat-icon matSuffix> search </mat-icon>
            <!-- <mat-error *ngIf="loginForm.controls['username'].hasError('minlength')">
                Campo debe tener <strong>mínimo 5 caracteres</strong>
            </mat-error> -->
        </mat-form-field>
        <button matTooltip="Añadir responsable" (click)="openAddResponsible()" mat-raised-button style="color: white; background-color: black;">
            <mat-icon matSuffix style="color: white;"> add </mat-icon>
        </button>
        <button matTooltip="Refrescar" (click)="getAllResponsible()" mat-raised-button style="margin-left: 10px;color: white; background-color: black;">
          <mat-icon matSuffix style="color: white;"> refresh </mat-icon>
      </button>
        <mat-card-content>
            <div class="main-table-container mat-elevation-z1">
                <div class="main-table-overflow">
                    <table class="main-table" mat-table [dataSource]="dataSource">

                        <ng-container matColumnDef="name">
                          <th mat-header-cell *matHeaderCellDef> Nombre del responsable </th>
                          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                        </ng-container>
    
                        <ng-container matColumnDef="document_id">
                            <th mat-header-cell *matHeaderCellDef> Documento de identidad </th>
                            <td mat-cell *matCellDef="let element"> {{element.document_id}} </td>
                        </ng-container>

                        <ng-container matColumnDef="company_name">
                            <th mat-header-cell *matHeaderCellDef> Compañia </th>
                            <td mat-cell *matCellDef="let element"> {{element.company.company_name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                          <th mat-header-cell *matHeaderCellDef> Acción </th>
                          <td mat-cell *matCellDef="let element">
                            <div class="action-table-two">
                              <mat-icon matTooltip="Editar" (click)="openEditResponsible(element)" class="icon-action"> edit </mat-icon>
                              <mat-icon matTooltip="Eliminar" (click)="deleteResponsible(element)" class="icon-action"> delete </mat-icon>
                            </div>
                            <!-- <button (click)="openEditEquipmentFacilities(element)" mat-raised-button color="primary">Editar</button> -->
                          </td>
                        </ng-container>
                    
                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true;"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        <tr *matNoDataRow>
                            <td [attr.colspan]="displayedColumns.length">
                                No hay responsables registrados
                            </td>
                        </tr>
                      </table>
                </div>
                <mat-paginator class="main-paginator" [pageSizeOptions]="[5, 10, 20]"
                    showFirstLastButtons
                    aria-label="Select page of periodic elements"
                    [ngClass]="{'paginator-border': responsibles.length === 0}">
                </mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</div>